!function(i){"use strict";i("#nc-deactivate").click(function(t){var e,n=i(this).attr("href");t.preventDefault();var a=jQuery('<div class="nc-cleaner-dialog">'+i("#_nc-cleaner-dialog").html()+"</div>");a.dialog({title:NelioContent.i18n.titles.deactivatePlugin,autoOpen:!0,closeOnEscape:!0,modal:!0,width:420,dialogClass:"nc-dialog",buttons:[{text:NelioContent.i18n.actions.close,class:"button",click:function(){i(this).dialog("close")}},{text:NelioContent.i18n.actions.deactivate,class:"button nc-proceed",click:function(){switch(i(this).dialog("option","closeOnEscape",!1),i(this).closest(".ui-dialog").find("input, button, .button").prop("disabled",!0),e.removeClass("nc-super-delete-button"),e.removeClass("button-primary"),i(this).find('input[name="nc-deactivate-action"]:checked').val()){case"clean-and-deactivate":e.html(NelioContent.i18n.feedback.cleaning),i.ajax({url:ajaxurl,data:{action:"nelio_content_clean_and_deactivate"},success:function(){window.location.href=n},error:function(t){a.dialog("close"),i('<div class="nc-error-dialog">'+t.responseJSON+"</div>").dialog({title:NelioContent.i18n.titles.error,modal:!0,width:Math.min(500,i(window).width()-20),dialogClass:"nc-dialog",buttons:[{class:"button nc-cancel-button",text:NelioContent.i18n.actions.deactivate,click:function(){window.location.href=n}}],close:function(){window.location.href=n}})}});break;case"cancel-subscription-and-deactivate":e.html(NelioContent.i18n.feedback.cancelingSubscription),i.ajax({url:ajaxurl,data:{action:"nelio_content_cancel_account_clean_and_deactivate"},success:function(){window.location.href=n},error:function(){window.location.reload()}});break;default:e.html(NelioContent.i18n.feedback.deactivating),window.location.href=n}}}],close:function(){i(this).dialog("destroy")}}),(e=a.closest(".ui-dialog").find(".nc-proceed")).prop("disabled",!0),a.find('input[name="nc-deactivate-action"]').on("change",function(){var t=a.find('input[name="nc-deactivate-action"]:checked').val();switch(e.prop("disabled",!1),e.removeClass("nc-super-delete-button"),e.removeClass("button-primary"),t){case"deactivate":e.html(NelioContent.i18n.actions.deactivate),e.addClass("button-primary");break;case"clean-and-deactivate":e.html(NelioContent.i18n.actions.cleanAndDeactivate),e.addClass("button-primary");break;case"cancel-subscription-and-deactivate":e.html(NelioContent.i18n.actions.cancelSubscriptionAndDeactivate),e.addClass("nc-super-delete-button")}})})}(jQuery);